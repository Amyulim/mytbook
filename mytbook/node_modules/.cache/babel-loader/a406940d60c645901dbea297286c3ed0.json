{"remainingRequest":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/babel-loader/lib/index.js!/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eveyensecondsobremisana/Desktop/mytbook/src/components/Myaccount.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/src/components/Myaccount.vue","mtime":1551072908041},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport \"core-js/modules/es6.array.iterator\";\nimport \"core-js/modules/es6.promise\";\nimport \"core-js/modules/es7.promise.finally\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: \"booklist\",\n  data: function data() {\n    return {\n      detail: false,\n      result: \"\",\n      book_title: \"\",\n      user_id: this.store.user_id,\n      book_id: this.store.user_id,\n      user_email: this.store.user_email,\n      user_pass: this.store.user_pass,\n      student_id: this.store.student_id\n    };\n  },\n  methods: {\n    See_detail: function See_detail(item) {\n      this.detail = true;\n      this.curItem = item;\n    },\n    Change_modal: function Change_modal() {\n      this.detail = false;\n    },\n    GoBookUpdate: function GoBookUpdate() {\n      this.store.cur_book_id = this.curItem.book_id;\n      this.store.cur_book_title = this.curItem.book_title;\n      this.store.cur_book_isbn = this.curItem.book_isbn;\n      this.store.cur_book_course = this.curItem.book_course;\n      this.store.cur_book_price = this.curItem.book_price;\n      this.store.cur_book_img = this.curItem.book_img;\n      this.store.cur_book_mdate = this.curItem.book_mdate;\n      this.store.cur_book_desc = this.curItem.book_desc;\n      this.store.cur_book_condition = this.curItem.book_condition;\n      this.store.cur_book_status = this.curItem.book_status;\n      this.$router.push('bookupdate');\n    },\n    DeleteBook: function () {\n      var _DeleteBook = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var fd, resp, json;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                //       alert(\"deleted!\")\n                fd = new FormData();\n                fd.append(\"user_id\", this.user_id);\n                fd.append(\"book_id\", this.curItem.book_id);\n                console.log(this.user_id);\n                console.log(this.curItem.book_id);\n                _context.next = 7;\n                return fetch(\"https://mytbook.herokuapp.com/delete_book.php\", {\n                  method: \"POST\",\n                  body: fd\n                });\n\n              case 7:\n                resp = _context.sent;\n                _context.next = 10;\n                return resp.text();\n\n              case 10:\n                json = _context.sent;\n                this.detail = false; //referesh\n\n                fd = new FormData();\n                fd.append(\"user_id\", this.store.user_id);\n                _context.next = 16;\n                return fetch(\"https://mytbook.herokuapp.com/select_user_book.php\", {\n                  method: \"POST\",\n                  body: fd\n                });\n\n              case 16:\n                resp = _context.sent;\n                _context.next = 19;\n                return resp.json();\n\n              case 19:\n                json = _context.sent;\n                console.log(json);\n                this.result = json;\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function DeleteBook() {\n        return _DeleteBook.apply(this, arguments);\n      }\n\n      return DeleteBook;\n    }()\n  },\n  beforeCreate: function () {\n    var _beforeCreate = _asyncToGenerator(\n    /*#__PURE__*/\n    regeneratorRuntime.mark(function _callee2() {\n      var fd, resp, json;\n      return regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              fd = new FormData();\n              fd.append(\"user_id\", this.store.user_id);\n              _context2.next = 4;\n              return fetch(\"https://mytbook.herokuapp.com/select_user_book.php\", {\n                method: \"POST\",\n                body: fd\n              });\n\n            case 4:\n              resp = _context2.sent;\n              _context2.next = 7;\n              return resp.json();\n\n            case 7:\n              json = _context2.sent;\n              console.log(json);\n              this.result = json;\n\n            case 10:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, this);\n    }));\n\n    function beforeCreate() {\n      return _beforeCreate.apply(this, arguments);\n    }\n\n    return beforeCreate;\n  }()\n};",{"version":3,"sources":["Myaccount.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"body\" id=\"Bookform\">\n    <div class=\"container d-flex w-100 h-100 p-3 flex-column\">\n      <div v-if=\"user_id === null\"> Sign In First!</div>\n      <div v-else>\n        <main role=\"main\" class=\"inner\">\n          <section class=\"text-center\">\n            <div class=\"container\">\n              <h1 class=\"jumbotron-heading\">My Account</h1>\n\n            </div>\n          </section>\n\n          <div class=\"container\">\n            <div class=\"row\">\n              <div class=\"col-md-12\">\n\n                <div class=\" myaccount-body card-body\">\n                  <p><span class=\"bookview-title\">Email Address: </span>{{this.user_email}}</p>\n                  <hr>\n                  <p><span class=\"bookview-title\">Student Number: </span>{{this.student_id}}</p>\n                  <hr>\n                  <router-link to=\"/bookform\" class=\"signIn btn-primary btn\"> Sell the book</router-link>\n                </div>\n\n\n                <p class=\"myaccount-title\">Books Listed:</p>\n\n                <div class=\"row lists\">\n                  <div class=\"col-md-4\" v-for=\"item in result\">\n                    <div class=\"card mb-4 shadow-sm book-des\">\n\n                      <div class=\"book-img text-center\">\n                        <img src=\"../assets/book1.jpg\" class=\"card-img-top\" text=\"Thumbnail\" />\n                      </div>\n\n                      <div class=\"book-title text-center\">\n                        {{item.book_title}}<br />\n                        <span class=\"price\">${{item.book_price}}</span>\n                      </div>\n\n                      <div class=\"card-body\">\n                        <ul>\n                          <li><span class=\"list-title\">ISBN</span> : {{item.book_isbn}} </li>\n                          <li><span class=\"list-title\">Course</span> : {{item.book_course}}</li>\n                          <li><span class=\"list-title\">Meeting Time</span> : {{item.book_mdate}}</li>\n                        </ul>\n\n                        <div class=\"d-flex justify-content-between align-items-center\">\n                          <button @click=\"See_detail(item)\" type=\"button\" class=\"btn btn-sm btn-outline-secondary\">View</button>\n                          <div v-if=\"item.book_status === 'null'\"></div>\n                          <div v-else-if=\"item.book_status == null\"></div>\n                          <div v-else>\n                            <button type=\"button\" class=\"btn btn-sm deal-status pull-right\">{{item.book_status}}</button>\n                          </div>\n                          \n                        </div>\n\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n              </div>\n            </div>\n          </div>\n          <div class=\"book_detail_modal\" v-if=\"detail === true\">\n            <div class=\"row2 bookview-body position_absolute\">\n\n              <button @click=\"Change_modal\" type=\"button\" class=\"btn btn-sm btn-secondary close-button\">&nbsp;X&nbsp;</button>\n\n              <div class=\"col-md-4 bookview-img \">\n                <div v-if=\"curItem.book_status !== null\" class=\"justify-content-between align-items-center\">\n                  <button type=\"button\" class=\"btn btn-sm deal-status detail_status \">{{curItem.book_status}}</button>\n                </div>\n                <img src=\"../assets/book1.jpg\" class=\"detail_img\" text=\"Thumbnail\" />\n                <div class=\"row\"> \n                  <button @click=\"GoBookUpdate\" type=\"button\" class=\"btn btn-sm btn-outline-secondary myaccount-button pull-left\">Edit Book\n                  </button>\n                  <button @click=\"DeleteBook\" type=\"button\" class=\"btn btn-sm btn-danger pull-right myaccount-button delete-button\">Delete Book\n                  </button>\n                </div>\n\n\n              </div>\n              <div class=\"col-md-8 bookview-details\">\n\n                <p><span class=\"bookview-title\">Title: </span>{{curItem.book_title}}</p>\n                <hr>\n                <p><span class=\"bookview-title\">ISBN: </span>{{curItem.book_isbn}}</p>\n                <hr>\n                <p><span class=\"bookview-title\">Course: </span>{{curItem.book_course}}</p>\n                <hr>\n                <p><span class=\"bookview-title\">price: </span>$ {{curItem.book_price}}</p>\n                <hr>\n                <p><span class=\"bookview-title\">condition: </span>{{curItem.book_condition}}</p>\n                <hr>\n                <p><span class=\"bookview-title\">description: </span>{{curItem.book_desc}}</p>\n                <hr>\n                <p><span class=\"bookview-title\">Meeting Time: </span>{{curItem.book_mdate}}</p>\n                <hr>\n\n\n\n\n              </div>\n\n            </div>\n          </div>\n\n        </main>\n      </div>\n\n\n\n    </div>\n  </div>\n</template>\n\n<style>\n  @import \"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\";\n  @import \"../components/style.css\";\n\n</style>\n\n\n<script>\n  export default {\n    name: \"booklist\",\n    data() {\n      return {\n        detail: false,\n        result: \"\",\n        book_title: \"\",\n        user_id: this.store.user_id,\n        book_id: this.store.user_id,\n        user_email: this.store.user_email,\n        user_pass: this.store.user_pass,\n        student_id: this.store.student_id\n      }\n    },\n    methods: {\n      See_detail: function(item) {\n\n        this.detail = true;\n\n        this.curItem = item;\n\n      },\n      Change_modal: function() {\n        this.detail = false;\n      },\n      GoBookUpdate: function() {\n        this.store.cur_book_id = this.curItem.book_id;\n        this.store.cur_book_title = this.curItem.book_title;\n        this.store.cur_book_isbn = this.curItem.book_isbn;\n        this.store.cur_book_course = this.curItem.book_course;\n        this.store.cur_book_price = this.curItem.book_price;\n        this.store.cur_book_img = this.curItem.book_img;\n        this.store.cur_book_mdate = this.curItem.book_mdate;\n        this.store.cur_book_desc = this.curItem.book_desc;\n        this.store.cur_book_condition = this.curItem.book_condition;\n        this.store.cur_book_status = this.curItem.book_status;\n\n\n        this.$router.push('bookupdate');\n      },\n      DeleteBook: async function() {\n\n//       alert(\"deleted!\")\n\n        var fd = new FormData();\n\n        fd.append(\"user_id\", this.user_id);\n        fd.append(\"book_id\", this.curItem.book_id);\n\n\n        console.log(this.user_id)\n        console.log(this.curItem.book_id)\n\n        var resp = await fetch(\"https://mytbook.herokuapp.com/delete_book.php\", {\n          method: \"POST\",\n          body: fd\n        });\n\n        var json = await resp.text();\n\n        this.detail = false;\n        \n        //referesh\n        var fd = new FormData();\n        fd.append(\"user_id\", this.store.user_id);\n\n        var resp = await fetch(\"https://mytbook.herokuapp.com/select_user_book.php\", {\n          method: \"POST\",\n          body: fd\n        });\n        var json = await resp.json();\n\n        console.log(json);\n        this.result = json;\n      }\n\n\n    },\n    beforeCreate: async function() {\n\n      var fd = new FormData();\n      fd.append(\"user_id\", this.store.user_id);\n\n      var resp = await fetch(\"https://mytbook.herokuapp.com/select_user_book.php\", {\n        method: \"POST\",\n        body: fd\n      });\n      var json = await resp.json();\n\n      console.log(json);\n      this.result = json;\n\n    },\n  }\n\n</script>\n"],"sourceRoot":"src/components"}]}