{"remainingRequest":"/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/babel-loader/lib/index.js!/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/src/components/Signin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/src/components/Signin.vue","mtime":1550548962970},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/Users/eveyensecondsobremisana/Desktop/mytbook/mytbook/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport signin from \"@/components/Signin.vue\";\nimport bookform from \"@/components/Bookform.vue\";\nimport signup from \"@/components/Signup.vue\";\nexport default {\n  name: \"signin\",\n  components: {\n    gosignin: signin,\n    gosignup: signup,\n    gobookform: bookform\n  },\n  data: function data() {\n    return {\n      page: 1,\n      user_email: \"\",\n      user_pass: \"\",\n      user_id: this.store.user_id\n    };\n  },\n  methods: {\n    GoBookForm: function GoBookForm() {\n      this.page = 2;\n    },\n    GoSignUp: function GoSignUp() {\n      this.page = 3;\n    },\n    SignIn: function () {\n      var _SignIn = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var fd, resp, json;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                fd = new FormData();\n                fd.append(\"user_email\", this.user_email);\n                fd.append(\"user_pass\", this.user_pass);\n                console.log(fd);\n                console.log(this.user_pass);\n                _context.next = 7;\n                return fetch(\"https://mytbook.herokuapp.com/select_user.php\", {\n                  method: \"POST\",\n                  body: fd\n                });\n\n              case 7:\n                resp = _context.sent;\n                _context.next = 10;\n                return resp.json();\n\n              case 10:\n                json = _context.sent;\n                console.log(json);\n\n                if (json.status) {\n                  //console.log(json);\n                  //save user info to global state\n                  this.store.user_id = json.id;\n                  this.store.user_email = json.email;\n                  this.store.user_pass = json.pass;\n                  this.store.student_id = json.student_id;\n                  console.log(this.store.user_id);\n                  console.log(this.store.user_email);\n                  console.log(this.store.user_pass);\n                  console.log(this.store.student_id); //change page \n\n                  this.$router.push('booklist');\n                } else {\n                  alert(\"Wrong email or ps\");\n                } //          if(json.user_eamill == this.user_email){\n                //               console.log(\"match\")\n                //             }\n\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function SignIn() {\n        return _SignIn.apply(this, arguments);\n      }\n\n      return SignIn;\n    }()\n  }\n};",{"version":3,"sources":["Signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmDA,OAAA,MAAA,MAAA,yBAAA;AACA,OAAA,QAAA,MAAA,2BAAA;AACA,OAAA,MAAA,MAAA,yBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,QAAA,EAAA,MADA;AAEA,IAAA,QAAA,EAAA,MAFA;AAGA,IAAA,UAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,CADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,SAAA,EAAA,EAHA;AAIA,MAAA,OAAA,EAAA,KAAA,KAAA,CAAA;AAJA,KAAA;AAMA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,UAAA,EAAA,sBAAA;AAEA,WAAA,IAAA,GAAA,CAAA;AACA,KAJA;AAKA,IAAA,QAAA,EAAA,oBAAA;AACA,WAAA,IAAA,GAAA,CAAA;AACA,KAPA;AAQA,IAAA,MAAA;AAAA;AAAA;AAAA,8BAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,gBAAA,EAFA,GAEA,IAAA,QAAA,EAFA;AAGA,gBAAA,EAAA,CAAA,MAAA,CAAA,YAAA,EAAA,KAAA,UAAA;AACA,gBAAA,EAAA,CAAA,MAAA,CAAA,WAAA,EAAA,KAAA,SAAA;AAEA,gBAAA,OAAA,CAAA,GAAA,CAAA,EAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA;AAPA;AAAA,uBASA,KAAA,CAAA,+CAAA,EAAA;AACA,kBAAA,MAAA,EAAA,MADA;AAEA,kBAAA,IAAA,EAAA;AAFA,iBAAA,CATA;;AAAA;AASA,gBAAA,IATA;AAAA;AAAA,uBAaA,IAAA,CAAA,IAAA,EAbA;;AAAA;AAaA,gBAAA,IAbA;AAeA,gBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;;AAEA,oBAAA,IAAA,CAAA,MAAA,EAAA;AACA;AAEA;AACA,uBAAA,KAAA,CAAA,OAAA,GAAA,IAAA,CAAA,EAAA;AACA,uBAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,KAAA;AACA,uBAAA,KAAA,CAAA,SAAA,GAAA,IAAA,CAAA,IAAA;AACA,uBAAA,KAAA,CAAA,UAAA,GAAA,IAAA,CAAA,UAAA;AAEA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,OAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,UAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,SAAA;AACA,kBAAA,OAAA,CAAA,GAAA,CAAA,KAAA,KAAA,CAAA,UAAA,EAZA,CAeA;;AACA,uBAAA,OAAA,CAAA,IAAA,CAAA,UAAA;AAEA,iBAlBA,MAkBA;AACA,kBAAA,KAAA,CAAA,mBAAA,CAAA;AACA,iBArCA,CAsCA;AACA;AACA;;;AAxCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AARA;AAfA,CAAA","sourcesContent":["<template>\n    <div id=\"signin\" class=\"body\">   \n      <div v-if=\"page ===1\">       \n        <div class=\"form-signin\">\n          <h1 class=\"h3 mb-3 font-weight-normal center\">Have an account? </h1>\n          <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n          <input v-model=\"user_email\" type=\"email\" class=\"form-control\" placeholder=\"Email address\" required autofocus>\n\n          <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n\n          <input v-model=\"user_pass\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n\n<!--\n          <div class=\"checkbox mb-3\">\n            <label>\n            <input type=\"checkbox\" value=\"remember-me\"> Remember me\n            </label>\n          </div>\n-->\n          <div>\n            <button @click=\"SignIn\" class=\"btn btn-lg btn-primary btn-block\">Sign In</button>\n            <button @click=\"GoSignUp\" class=\"signup\">Don't have an account. Sign  me up!</button>\n          </div> <br/>\n         </div>\n              \n  \n      </div>\n      \n      <div v-if=\"page ===2\">\n            <gobookform />\n      </div> \n      \n      \n      <div v-if=\"page ===3\">\n            <gosignup />\n      </div>         \n   \n\n                    \n    </div>\n\n</template>\n\n<style>\n  @import \"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\";\n  @import \"../components/style.css\";\n</style>\n\n\n<script>\n\t\nimport signin from \"@/components/Signin.vue\";\nimport bookform from \"@/components/Bookform.vue\";\nimport signup from \"@/components/Signup.vue\";\n\t\nexport default{\n\tname:\"signin\", \n\tcomponents:{\n\t\tgosignin: signin,\n\t\tgosignup: signup,\n        gobookform: bookform,\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tpage: 1,\n            user_email:\"\",\n            user_pass:\"\",\n            user_id:this.store.user_id,\n\t\t}\n\t},\n\tmethods:{\n\t\tGoBookForm:function(){\n      \n\t\t\tthis.page = 2;\n\t\t},\n\t\tGoSignUp:function(){\n\t\t\tthis.page = 3;\n\t\t},\n    SignIn:async function() {\n         \n            var fd= new FormData();  \n            fd.append(\"user_email\", this.user_email);\n            fd.append(\"user_pass\", this.user_pass);\n            \n            console.log(fd);\n            console.log(this.user_pass)\n            \n            var resp = await fetch(\"https://mytbook.herokuapp.com/select_user.php\",{\n                    method:\"POST\",\n                    body:fd\n                })\n            var json = await resp.json();\n         \n          console.log(json);\n\t\t\t\n             if(json.status){\n               //console.log(json);\n              \n               //save user info to global state\n               this.store.user_id = json.id;\n               this.store.user_email = json.email;\n               this.store.user_pass = json.pass;\n               this.store.student_id = json.student_id;\n               \n               console.log(this.store.user_id);\n               console.log(this.store.user_email);\n               console.log(this.store.user_pass);\n               console.log(this.store.student_id);\n              \n               \n               //change page \n               this.$router.push('booklist');\n               \n             }else{\n               alert(\"Wrong email or ps\")\n             }\n//          if(json.user_eamill == this.user_email){\n//               console.log(\"match\")\n//             }\n            \n        }\n\t}\n}\n</script>"],"sourceRoot":"src/components"}]}