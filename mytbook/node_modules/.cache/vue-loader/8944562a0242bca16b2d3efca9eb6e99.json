{"remainingRequest":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eveyensecondsobremisana/Desktop/mytbook/src/components/Booklist.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/src/components/Booklist.vue","mtime":1551077509901},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n  export default {\n    name: \"booklist\",\n    data() {\n      return {\n        result: \"\",\n        book_title: \"\",\n        detail: false,\n        curItem: \"\",\n        search: '',\n        componentLoaded: false,\n      }\n    },\n    methods: {\n      See_detail: function(item) {\n\n        this.detail = true;\n\n        this.curItem = item;\n        console.log(\"curItem:\", this.curItem);\n\n      },\n      Change_modal: function() {\n        this.detail = false;\n      },\n      GoBookUpdate: function() {\n        this.store.cur_book_id = this.curItem.book_id;\n        this.store.cur_book_title = this.curItem.book_title;\n        this.store.cur_book_isbn = this.curItem.book_isbn;\n        this.store.cur_book_course = this.curItem.book_course;\n        this.store.cur_book_price = this.curItem.book_price;\n        this.store.cur_book_img = this.curItem.book_img;\n        this.store.cur_book_mdate = this.curItem.book_mdate;\n        this.store.cur_book_desc = this.curItem.book_desc;\n        this.store.cur_book_condition = this.curItem.book_condition;\n        this.store.cur_book_status = this.curItem.book_status;\n        //        console.log(this.store.cur_book_desc);\n        this.$router.push('bookupdate');\n      },\n      DeleteBook: async function() {\n\n        alert(\"deleted!\")\n\n        var fd = new FormData();\n\n        fd.append(\"user_id\", this.store.user_id);\n        fd.append(\"book_id\", this.curItem.book_id);\n\n        console.log(this.user_id)\n        console.log(this.curItem.book_id)\n\n        var resp = await fetch(\"https://mytbook.herokuapp.com/delete_book.php\", {\n          method: \"POST\",\n          body: fd\n        });\n\n        var json = await resp.text();\n\n        this.detail = false;\n\n        //referesh\n        var resp = await fetch(\"https://mytbook.herokuapp.com/select_book.php\");\n        var json = await resp.json();\n        this.result = json;\n      },\n\t\t\tGoMessage: function (){\n\t\t\t\t\n\t\t\t}\n\n\n    },\n    beforeCreate: async function() {\n      var resp = await fetch(\"https://mytbook.herokuapp.com/select_book.php\");\n      var json = await resp.json();\n      //          json.JSON.parse(json);\n      //          JSON.parse();\n      console.log(json);\n      this.result = json;\n      //          console.log(\"result\",this.result);\n      //          console.log(\"title\",this.result[0].book_title);\n      this.componentLoaded = true;\n\n    },\n    computed: {\n      filteredList() {\n        if (!this.componentLoaded)\n          return null;\n\n          return this.result.filter(item => {\n          return item.book_title.toLowerCase().includes(this.search.toLowerCase())\n        })\n      }\n    }\n\n  }\n\n",{"version":3,"sources":["Booklist.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA","file":"Booklist.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div class=\"body\" id=\"booklist\">\n    <div class=\"container d-flex w-100 h-100 p-3 mx-auto flex-column\">\n      <main role=\"main\" class=\"inner\">\n        <section class=\"text-center\">\n          <div class=\"\">\n            <h1 class=\"jumbotron-heading\">Book lists</h1>\n            <p class=\"lead text-muted\">Find the book you want to buy!</p>\n            <div class=\"col-md-9 display-in\">\n              <input type=\"text\" v-model=\"search\" placeholder=\"Search title..\" class=\"form-control width-90\">\n            </div>\n            <div class=\"col-md-2 display-in\">\n              <input type=\"submit\" class=\"submitButton btn-primary \" value=\"Search\">\n            </div>\n          </div>\n        </section>\n        <div class=\"album py-5 \">\n          <div class=\"container\">\n\n            <div class=\"row lists\">\n              <div class=\"col-md-4\" v-for=\"item in filteredList\">\n                <div class=\"card mb-4 shadow-sm book-des\">\n                  <div class=\"book-img text-center\">\n                    <img :src= \"item.book_img\" class=\"card-img-top\" text=\"Thumbnail\" />\n                  </div>\n                  <div class=\"book-title text-center\">\n                    {{item.book_title}}<br />\n                    <span class=\"price\">${{item.book_price}}</span>\n                  </div>\n\n                  <div class=\"card-body\">\n                    <ul>\n                      <li><span class=\"list-title\">ISBN</span> : {{item.book_isbn}} </li>\n                      <li><span class=\"list-title\">Course</span> : {{item.book_course}}</li>\n                      <li><span class=\"list-title\">Meeting Time</span> : {{item.book_mdate}}</li>\n                    </ul>\n                    <div class=\"d-flex justify-content-between align-items-center\">\n                      <button @click=\"See_detail(item)\" type=\"button\" class=\"btn btn-sm btn-outline-secondary\">View</button>\n                      <div v-if=\"item.book_status === 'null'\"></div>\n                      <div v-else-if=\"item.book_status === null\"></div>\n                      <div v-else>\n                        <button type=\"button\" class=\"btn btn-sm deal-status pull-right\">{{item.book_status}}</button>\n                      </div>\n                    </div>\n                  </div>\n                  \n                </div>\n              </div>\n\n            </div>\n          </div>\n        </div>\n        <div class=\"book_detail_modal\" v-if=\"detail === true\">\n          <div class=\"row2 bookview-body position_absolute\">\n\n            <button @click=\"Change_modal\" type=\"button\" class=\"btn btn-sm btn-secondary close-button\"> &nbsp;X&nbsp;</button>\n\n            <div class=\"col-md-4 bookview-img \">\n              <div v-if=\"curItem.book_status === 'null'\"></div>\n\t\t\t\t\t\t\t\n              <div v-else-if=\"curItem.book_status === null\"></div>\n\t\t\t\t\t\t\t\n              <div v-else class=\"justify-content-between align-items-center\">\n                <button type=\"button\" class=\"btn btn-sm deal-status detail_status \">{{curItem.book_status}}</button>\n              </div>\n\n              <img src=\"../assets/book1.jpg\" class=\"detail_img\" text=\"Thumbnail\" />\n\t\t\t\t\t\t\t\n<!--\t\t\t\t\t\t\tto message the book owner TEMPORARY-->\n\t\t\t\t\t\t\t<div class=\"row\">\n                <button @click=\"GoMessage\" type=\"button\" class=\"btn btn-sm btn-primary sendmsg-button pull-left\">Send a message\n                </button>\n              </div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\n\n              <div v-if=\"curItem.user_id===this.store.user_id\" class=\"row\">\n                <button @click=\"GoBookUpdate\" type=\"button\" class=\"btn btn-sm btn-outline-secondary myaccount-button pull-left\">Edit Book\n                </button>\n                <button @click=\"DeleteBook\" type=\"button\" class=\"btn btn-sm btn-danger pull-right myaccount-button delete-button\">Delete Book\n                </button>\n              </div>\n            </div>\n            \n            <div class=\"col-md-8 bookview-details\">\n              <p><span class=\"bookview-title\">Title: </span>{{curItem.book_title}}</p>\n              <hr>\n              <p><span class=\"bookview-title\">ISBN: </span>{{curItem.book_isbn}}</p>\n              <hr>\n              <p><span class=\"bookview-title\">Course: </span>{{curItem.book_course}}</p>\n              <hr>\n              <p><span class=\"bookview-title\">price: </span>$ {{curItem.book_price}}</p>\n              <hr>\n              <p><span class=\"bookview-title\">condition: </span>{{curItem.book_condition}}</p>\n              <hr>\n              <p><span class=\"bookview-title\">description: </span>{{curItem.book_desc}}</p>\n              <hr>\n              <p><span class=\"bookview-title\">Meeting Time: </span>{{curItem.book_mdate}}</p>\n              <hr>\n            </div>\n\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n<style>\n  @import \"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\";\n  @import \"../components/style.css\";\n\n</style>\n\n<script>\n  export default {\n    name: \"booklist\",\n    data() {\n      return {\n        result: \"\",\n        book_title: \"\",\n        detail: false,\n        curItem: \"\",\n        search: '',\n        componentLoaded: false,\n      }\n    },\n    methods: {\n      See_detail: function(item) {\n\n        this.detail = true;\n\n        this.curItem = item;\n        console.log(\"curItem:\", this.curItem);\n\n      },\n      Change_modal: function() {\n        this.detail = false;\n      },\n      GoBookUpdate: function() {\n        this.store.cur_book_id = this.curItem.book_id;\n        this.store.cur_book_title = this.curItem.book_title;\n        this.store.cur_book_isbn = this.curItem.book_isbn;\n        this.store.cur_book_course = this.curItem.book_course;\n        this.store.cur_book_price = this.curItem.book_price;\n        this.store.cur_book_img = this.curItem.book_img;\n        this.store.cur_book_mdate = this.curItem.book_mdate;\n        this.store.cur_book_desc = this.curItem.book_desc;\n        this.store.cur_book_condition = this.curItem.book_condition;\n        this.store.cur_book_status = this.curItem.book_status;\n        //        console.log(this.store.cur_book_desc);\n        this.$router.push('bookupdate');\n      },\n      DeleteBook: async function() {\n\n        alert(\"deleted!\")\n\n        var fd = new FormData();\n\n        fd.append(\"user_id\", this.store.user_id);\n        fd.append(\"book_id\", this.curItem.book_id);\n\n        console.log(this.user_id)\n        console.log(this.curItem.book_id)\n\n        var resp = await fetch(\"https://mytbook.herokuapp.com/delete_book.php\", {\n          method: \"POST\",\n          body: fd\n        });\n\n        var json = await resp.text();\n\n        this.detail = false;\n\n        //referesh\n        var resp = await fetch(\"https://mytbook.herokuapp.com/select_book.php\");\n        var json = await resp.json();\n        this.result = json;\n      },\n\t\t\tGoMessage: function (){\n\t\t\t\t\n\t\t\t}\n\n\n    },\n    beforeCreate: async function() {\n      var resp = await fetch(\"https://mytbook.herokuapp.com/select_book.php\");\n      var json = await resp.json();\n      //          json.JSON.parse(json);\n      //          JSON.parse();\n      console.log(json);\n      this.result = json;\n      //          console.log(\"result\",this.result);\n      //          console.log(\"title\",this.result[0].book_title);\n      this.componentLoaded = true;\n\n    },\n    computed: {\n      filteredList() {\n        if (!this.componentLoaded)\n          return null;\n\n          return this.result.filter(item => {\n          return item.book_title.toLowerCase().includes(this.search.toLowerCase())\n        })\n      }\n    }\n\n  }\n\n</script>\n"]}]}