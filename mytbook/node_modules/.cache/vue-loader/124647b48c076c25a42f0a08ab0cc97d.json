{"remainingRequest":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/eveyensecondsobremisana/Desktop/mytbook/src/components/Signin.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/src/components/Signin.vue","mtime":1550548962970},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/css-loader/index.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/eveyensecondsobremisana/Desktop/mytbook/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n@import \"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\";\n@import \"../components/style.css\";\n",{"version":3,"sources":["Signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4CA;AACA","file":"Signin.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div id=\"signin\" class=\"body\">   \n      <div v-if=\"page ===1\">       \n        <div class=\"form-signin\">\n          <h1 class=\"h3 mb-3 font-weight-normal center\">Have an account? </h1>\n          <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n          <input v-model=\"user_email\" type=\"email\" class=\"form-control\" placeholder=\"Email address\" required autofocus>\n\n          <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n\n          <input v-model=\"user_pass\" type=\"password\" class=\"form-control\" placeholder=\"Password\" required>\n\n<!--\n          <div class=\"checkbox mb-3\">\n            <label>\n            <input type=\"checkbox\" value=\"remember-me\"> Remember me\n            </label>\n          </div>\n-->\n          <div>\n            <button @click=\"SignIn\" class=\"btn btn-lg btn-primary btn-block\">Sign In</button>\n            <button @click=\"GoSignUp\" class=\"signup\">Don't have an account. Sign  me up!</button>\n          </div> <br/>\n         </div>\n              \n  \n      </div>\n      \n      <div v-if=\"page ===2\">\n            <gobookform />\n      </div> \n      \n      \n      <div v-if=\"page ===3\">\n            <gosignup />\n      </div>         \n   \n\n                    \n    </div>\n\n</template>\n\n<style>\n  @import \"https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css\";\n  @import \"../components/style.css\";\n</style>\n\n\n<script>\n\t\nimport signin from \"@/components/Signin.vue\";\nimport bookform from \"@/components/Bookform.vue\";\nimport signup from \"@/components/Signup.vue\";\n\t\nexport default{\n\tname:\"signin\", \n\tcomponents:{\n\t\tgosignin: signin,\n\t\tgosignup: signup,\n        gobookform: bookform,\n\t},\n\tdata(){\n\t\treturn {\n\t\t\tpage: 1,\n            user_email:\"\",\n            user_pass:\"\",\n            user_id:this.store.user_id,\n\t\t}\n\t},\n\tmethods:{\n\t\tGoBookForm:function(){\n      \n\t\t\tthis.page = 2;\n\t\t},\n\t\tGoSignUp:function(){\n\t\t\tthis.page = 3;\n\t\t},\n    SignIn:async function() {\n         \n            var fd= new FormData();  \n            fd.append(\"user_email\", this.user_email);\n            fd.append(\"user_pass\", this.user_pass);\n            \n            console.log(fd);\n            console.log(this.user_pass)\n            \n            var resp = await fetch(\"https://mytbook.herokuapp.com/select_user.php\",{\n                    method:\"POST\",\n                    body:fd\n                })\n            var json = await resp.json();\n         \n          console.log(json);\n\t\t\t\n             if(json.status){\n               //console.log(json);\n              \n               //save user info to global state\n               this.store.user_id = json.id;\n               this.store.user_email = json.email;\n               this.store.user_pass = json.pass;\n               this.store.student_id = json.student_id;\n               \n               console.log(this.store.user_id);\n               console.log(this.store.user_email);\n               console.log(this.store.user_pass);\n               console.log(this.store.student_id);\n              \n               \n               //change page \n               this.$router.push('booklist');\n               \n             }else{\n               alert(\"Wrong email or ps\")\n             }\n//          if(json.user_eamill == this.user_email){\n//               console.log(\"match\")\n//             }\n            \n        }\n\t}\n}\n</script>"]}]}